{{partial:globals/smoothWrapStart}}

<div class="mx-auto mt-[114px] flex flex-row gap-[24px] mt-16 mb-32 px-[30px] relative">
    <!-- <style>
        /* Hide inactive checkboxes */
        input[type="checkbox"]:not(:checked) {
            display: none;
        }
    </style> -->

    <img id="homeimage" class="h-[auto] w-1/2 bg-black absolute" src="{{hero_images | random}}"></img>

    {{partial:filtersMenu}}
    
    <div id="cardsGrid" class="md:w-[calc(100%-280px)] mt-[28vh]">
        <div class="border-b space-y-[12px] border-lightpurple/70 pb-[12px] mb-[12px]">
            <div class="font-ApercuBoldItalic text-[300px] xl:text-[387px] tracking-tighter leading-[220px] xl:leading-[280px]">2025</div>
            <h1>and counting...</h1>
            <h2>Itâ€™s time to save our humanity.</h2>
            <div class="prose prose-sky prose-lg !max-w-none pb-8">{{welcome_message}}</div>
        </div>
        {{ collection from="*" not_from="pages|quotations" as="results"
        :taxonomy:challenges:all="get:categories"
        :taxonomy:collection_type="get:collectiontype"
         }}
            {{ if no_results }}
                <div class="p-8 rounded-lg bg-gray-100 text-center">
                    Sorry, no results.
                </div>
            {{ else }}
                <div class="columns-3 gap-[6px]">
                    {{ results | shuffle }}
                        {{scope:carddetail}}
                            {{ partial:cards/card }}
                        {{/scope:carddetail}}
                    {{ /results }}
                </div>
            {{ /if }}
        {{ /collection }}
    </div>
</div>

    {{ collection:quotations sort="random" limit="1" }}
        <div data-speed="1.4" class="col-span-2 px-16 -mt-48 z-20 flex flex-col items-center text-center">
            <div class="text-5xl text-white leading-snug mb-4">{{quotation}}</div>
            <div class="textMeta text-white w-2/3">{{attribution}}</div>
        </div>
    {{/collection:quotations}}
</section>


<img src="{{closing_photo}}" width="66%" class="mx-auto" alt="{{closing_photo:title}}">

<section data-speed="0.8" class="py-60">
    <div class="textMain text-center text-white/70 mx-auto leading-snug">
        {{closing_text}}
    </div>
</section>

<!-- <section class="py-48 space-y-8 relative z-10">
    <div data-speed=".9" class="font-thin text-7xl xl:text-8xl text-center leading-tight xl:px-36">
        "Don't look for hope.<br>Look for <span class="font-bold">action</span>."
    </div>
    <div data-speed=".9" class="textMeta mx-auto">
        &mdash; Greta Thunberg
    </div>
</section> -->

    <script src="/js/heroGSAP.js"></script>
   
    <script>
        gsap.fromTo("#main-nav", 
        { y: -96 }, // Starting value
        { 
            y: 0, // Ending value
            scrollTrigger: {
            trigger: "#invisibleScrollerTarget",
            start: "top -96", // Adjust based on when you want the animation to start
            toggleActions: "play none none reverse", // Play animation on enter, reverse on leave
            paused: true, // Pauses the animation until the scroll happens
            },
            duration: 0.75,
            ease: "power2.inOut",
        }
        );
    </script>
{{partial:globals/smoothWrapEnd}}